# 7.2 μΈν„°νμ΄μ¤μ λ¶„λ¦¬μ™€ μκΈ°μ°Έμ΅° λΉ

## JAXB

- Java Architecture for XML Binding
- JDK 6λ¶€ν„° μ‚¬μ© κ°€λ¥
- XMLμ— λ‹΄κΈ΄ μ •λ³΄λ¥Ό νμΌμ—μ„ μ½μ–΄μ¤λ” κΈ°λ¥ μ§€μ›

## μ–Έλ§μƒ¬λ§

- `μ–Έλ§μƒ¬λ§` : XML λ¬Έμ„λ¥Ό μ½μ–΄ μλ°”μ μ¤λΈμ νΈλ΅ λ³€ν™ν•λ” κ²ƒ
- `λ§μƒ¬λ§` : λ°”μΈλ”© μ¤λΈμ νΈλ¥Ό XML λ¬Έμ„λ΅ λ³€ν™ν•λ” κ²ƒ

β‡’ μ§λ ¬ν™”μ™€ μ μ‚¬ν• κ°λ…

## λΉμ μ΄κΈ°ν™” μ‘μ—…

μ¤ν”„λ§ μ»¨ν…μ΄λ„μ μ΄κΈ° μ‘μ—… μμ„λ” μ•„λμ™€ κ°™μ

1. `applicationContext.xml` XML λΉ μ„¤μ • μ½μ–΄μ¤κΈ°
2. λΉμ μ¤λΈμ νΈ μƒμ„±
3. ν”„λ΅νΌν‹°μ— μμ΅΄ μ¤λΈμ νΈ λλ” κ°’ μ£Όμ…
4. λΉμ΄λ‚ νƒκ·Έλ΅ λ“±λ΅λ ν›„μ²λ¦¬κΈ°(`@PostContstruct`) λ™μ‘

## μ±…μ„μ— λ”°λ¥Έ μΈν„°νμ΄μ¤ μ •μ

(κ·Έλ¦Ό 7-3)

λ…λ¦½μ μΌλ΅ λ³€κ²½ κ°€λ¥ν• μ±…μ„μ€ μ•„λμ™€ κ°™μ

1. SQL μ •λ³΄λ¥Ό μ™Έλ¶€μ λ¦¬μ†μ¤λ΅λ¶€ν„° μ½μ–΄μ΄
2. μ½μ–΄μ¨ SQLμ„ λ³΄κ΄€ν•΄λ‘κ³  μλ‹¤κ°€ ν•„μ” μ‹ μ κ³µ

β‡’ λ”°λΌμ„ λ¶„λ¦¬ κ°€λ¥ν• κ΄€μ‹¬μ‚¬μ— λ”°λΌ μΈν„°νμ΄μ¤ λ¶„λ¦¬ κ°€λ¥

## λ‹¤μ¤‘ μΈν„°νμ΄μ¤ κµ¬ν„κ³Ό κ°„μ ‘ μ°Έμ΅°
- μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•λ„λ΅ λ§λ“¤μ–΄μ•Ό DI μ‚¬μ© κ°€λ¥
- μΈν„°νμ΄μ¤ κµ¬ν„μ€ νƒ€μ…μ„ μƒμ†ν•λ” κ²ƒ
- μκΈ° μ°Έμ΅° λΉμ€ μ±…μ„κ³Ό κ΄€μ‹¬μ‚¬κ°€ λ³µμ΅ν•κ² μ–½ν€ μμ–΄ ν™•μ¥μ΄ νλ“¤κ³  λ³€κ²½μ— μ·¨μ•½ν• κµ¬μ΅°μ ν΄λμ¤λ¥Ό μ μ—°ν• κµ¬μ΅°λ΅ λ§λ“¤κ³ μ ν•  λ• μ²μ μ‹λ„ κ°€λ¥ν• λ°©λ²•

## λ””ν΄νΈ μμ΅΄κ΄€κ³„

(μ½”λ“ 7-41)

- μ™Έλ¶€μ—μ„ DI λ°›μ§€ μ•λ” κ²½μ° κΈ°λ³Έμ μΌλ΅ μλ™ μ μ©λλ” μμ΅΄ κ΄€κ³„
- νΉμ • μμ΅΄ μ¤λΈμ νΈκ°€ λ€λ¶€λ¶„μ ν™κ²½μ—μ„ κ±°μ λ””ν΄νΈλ΅ κΈ°λ³Έμ μΌλ΅ μ‚¬μ©λ  κ²½μ° λ””ν΄νΈ μμ΅΄κ΄€κ³„λ¥Ό κ°–λ” λΉμ„ λ§λ“λ” κ²ƒμ„ κ³ λ ¤ν•  ν•„μ” μμ

### λ””ν΄νΈ μμ΅΄κ΄€κ³„ λΉμ ν”„λ΅νΌν‹° λ¬Έμ  ν•΄κ²°

1. ν•„μ”ν• ν”„λ΅νΌν‹°λ¥Ό μ™Έλ¶€ ν΄λμ¤μ ν”„λ΅νΌν‹°λ΅ μ£Όμ… λ°›μ•„ λ””ν΄νΈ μμ΅΄κ΄€κ³„ μƒμ„± μ‹ μ‚¬μ©
2. β… λ””ν΄νΈ μμ΅΄κ΄€κ³„ λΉ λ‚΄ ν•„μ”ν• ν”„λ΅νΌν‹°μ λ””ν΄νΈ κ°’ μ§€μ •

β‡’ DIλ¥Ό μ‚¬μ©ν•λ‹¤κ³  ν•΄μ„ ν•­μƒ λ¨λ“  ν”„λ΅νΌν‹° κ°’μ„ μ„¤μ •μ— λ„£κ³  μμ΅΄ μ¤λΈμ νΈλ¥Ό λΉμΌλ΅ λ§λ“¤ ν•„μ”λ” μ—†μ

β‡’ λ””ν΄νΈ μ¤λΈμ νΈλ¥Ό μ‚¬μ©ν•κΈ° μ–΄λ µλ‹¤λ©΄ `@PostConstruct` λ¥Ό μ΄μ©ν•΄ ν”„λ΅νΌν‹°κ°€ μ΅΄μ¬ν•μ§€ μ•λ” κ²½μ°μ—λ§ λ””ν΄νΈ μ¤λΈμ νΈλ¥Ό λ§λ“¤λ„λ΅ ν•  μλ„ μμ

# 7.3 μ„λΉ„μ¤ μ¶”μƒν™” μ μ©

## OXM μ„λΉ„μ¤ μ¶”μƒν™”

- XMLκ³Ό μλ°” μ¤λΈμ νΈλ¥Ό λ§¤ν•‘ν•μ—¬ μƒνΈ λ³€ν™ν•΄μ£Όλ” κΈ°μ 
    - `Caster XML` : μ„¤μ •νμΌμ΄ ν•„μ” μ—†λ” μΈνΈλ΅μ¤ν™μ… λ¨λ“ μ§€μ›, λ§¤μ° κ°„κ²°ν•κ³  κ°€λ²Όμ›€
    - `JiBX` : λ›°μ–΄λ‚ νΌν¬λ¨Όμ¤λ¥Ό μλ‘
    - `XmlBeans` : μ•„νμΉ XML ν”„λ΅μ νΈ, XMLμ μ •λ³΄μ…‹μ„ ν¨κ³Όμ μΌλ΅ μ κ³µ
    - `Xstream` : κ΄€λ΅€λ¥Ό μ΄μ©ν•΄ μ„¤μ •μ΄ μ—†λ” λ°”μΈλ”© μ§€μ›

## λ©¤λ²„ ν΄λμ¤λ¥Ό μ°Έμ΅°ν•λ” ν†µν•© ν΄λμ¤

(κ·Έλ¦Ό 7-7, 7-8)

- μ‹ κ· `SqlService` κ°€ λΉμ„ μ£Όμ…λ°›λ„λ΅ μ„¤μ • κ°€λ¥ν•μ§€λ§ `SqlReader` κµ¬ν„ μ¤λΈμ νΈμ— λ€ν•΄ μμ΅΄κ΄€κ³„λ¥Ό κ³ μ •ν•κΈ° μ„ν•΄ `SqlReader` κµ¬ν„μ²΄λ¥Ό λ‚΄λ¶€μ— λ‚΄μ¥ν•λ„λ΅ κµ¬ν„ κ°€λ¥
- λ””ν΄νΈ μμ΅΄ μ¤λΈμ νΈλ¥Ό λ§λ“¤μ–΄μ£ΌκΈ° μ„ν• ν”„λ΅νΌν‹°λ¥Ό μ™Έλ¶€μ—μ„ μ£Όμ…μ‹ν‚¤λ” κ² μ–΄λ ¤μ›€
- μμ‹ μ΄ DIλ¥Ό ν†µν•΄ μ κ³µλ°›μ•„μ•Ό ν•λ” ν”„λ΅νΌν‹°κ°€ μλ‹¤λ©΄ `OxmSqlService`μ κ³µκ°λ ν”„λ΅νΌν‹°λ¥Ό ν†µν•΄ κ°„μ ‘μ μΌλ΅ DI μ§„ν–‰

## μ„μ„μ„ μ΄μ©ν• `BaseSqlService` μ¬μ‚¬μ©

(κ·Έλ¦Ό 7-9)

## λ¦¬μ†μ¤

- μ¤ν”„λ§μ€ μλ°”μ— μ΅΄μ¬ν•λ” μΌκ΄€μ„± μ—†λ” λ¦¬μ†μ¤ μ ‘κ·Ό APIλ¥Ό μ¶”μƒν™”ν•μ—¬ `Resource`λΌλ” μ¶”μƒν™” μΈν„°νμ΄μ¤ μ •μ
- μ‹¤μ  λ¦¬μ†μ¤κ°€ μ•„λ‹ λ¦¬μ†μ¤μ— μ ‘κ·Ό κ°€λ¥ν• μ¶”μƒν™”λ ν•Έλ“¤λ¬

## λ¦¬μ†μ¤ λ΅λ”

- μ¤ν”„λ§μ—μ„λ” λ¬Έμμ—΄λ΅ μ •μλ λ¦¬μ†μ¤λ¥Ό μ‹¤μ  `Resource` νƒ€μ… μ¤λΈμ νΈλ΅ λ³€ν™ν•΄μ£Όλ” `ResourceLoader` μ κ³µ
- `ApplicationContext`λ” `ResourceLoader` μΈν„°νμ΄μ¤ μƒμ†

# 7.4 μΈν„°νμ΄μ¤ μƒμ†μ„ ν†µν• μ•μ „ν• κΈ°λ¥ ν™•μ¥

## DIμ™€ μΈν„°νμ΄μ¤ ν”„λ΅κ·Έλλ°

- DIλ¥Ό μ μ©ν•  λ•λ” κ°€λ¥ν• μΈν„°νμ΄μ¤ μ‚¬μ©
    - λ‹¤ν•μ„±μ„ μ‚¬μ©ν•κΈ° μ„ν•΄
    - ISP(μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™)μ„ ν†µν•΄ ν΄λΌμ΄μ–ΈνΈμ™€ μμ΅΄ μ¤λΈμ νΈ μ‚¬μ΄μ κ΄€κ³„λ¥Ό λ…ν™•ν•κ² ν•κΈ° μ„ν•¨
- μ¤λΈμ νΈκ°€ μ‘μ§‘λ„ μμ–΄λ„ λ©μ κ³Ό κ΄€μ‹¬μ΄ κ°κΈ° λ‹¤λ¥Έ ν΄λΌμ΄μ–ΈνΈκ°€ μλ‹¤λ©΄ μΈν„°νμ΄μ¤ λ¶„λ¦¬ ν•„μ”

## μΈν„°νμ΄μ¤ μƒμ†

(κ·Έλ¦Ό 7-11)

- ISPλ” ν΄λΌμ΄μ–ΈνΈκ°€ μμ‹ μ κ΄€μ‹¬μ— λ”°λ¥Έ μ ‘κ·Ό λ°©μ‹μ„ λ¶ν•„μ”ν• κ°„μ„­ μ—†μ΄ μ μ§€ν•λ‹¤λ” μ¥μ  λ³΄μ 
    - κΈ°μ΅΄ ν΄λΌμ΄μ–ΈνΈμ— μν–¥μ„ μ£Όμ§€ μ•κ³  μ¤λΈμ νΈμ κΈ°λ¥μ„ ν™•μ¥ν•κ±°λ‚ μμ • κ°€λ¥
- **ν΄λΌμ΄μ–ΈνΈμ λ©μ κ³Ό μ©λ„μ— μ ν•©ν• μΈν„°νμ΄μ¤λ§μ„ μ κ³µν•κΈ° μ„ν• ISP μ¤€μ ν•„μ”**

# 7.5 DIλ¥Ό μ΄μ©ν•΄ λ‹¤μ–‘ν• κµ¬ν„ λ°©λ²• μ μ©ν•κΈ°

## `ConcurrentHashMap`μ„ μ΄μ©ν• μμ • κ°€λ¥ SQL λ μ§€μ¤νΈλ¦¬

- λ©€ν‹° μ¤λ λ“ ν™κ²½μ—μ„ `HashMap` μ‚¬μ©μ„ μ„ν•΄μ„λ” λ™κΈ°ν™” ν•„μ”
    - μ „ μ‘μ—…μ— λ€ν•΄ λ™κΈ°ν™” μ§„ν–‰ μ‹ μ„±λ¥ μ €ν• λ°μƒ κ°€λ¥
- λ™κΈ°ν™”λ ν•΄μ‹ λ°μ΄ν„° μ΅°μ‘μ— μµμ ν™”λ `ConcurrentHashMap` μ‚¬μ© ν•„μ”

## μ¤ν”„λ§μ λ‚΄μ¥ν• DB μ§€μ› κΈ°λ¥

- μ¤ν”„λ§μ€ λ‚΄μ¥ν• DBλ¥Ό μ„ν• μ„λΉ„μ¤ μ¶”μƒν™”λ¥Ό μ§€μ›ν•λ”λ° λ³„λ„ λ μ΄μ–΄λ΅ μ§€μ›ν•μ§€λ” μ•μ
- λ‚΄μ¥ν• DB λΉλ”μΈ `EmbeddedDatabaseBuilder` μ§€μ›

## `UpdatableSqlRegistry` ν…μ¤νΈ μ½”λ“μ μ¬μ‚¬μ©

- ν…μ¤νΈ μ½”λ“λ„ ν•„μ”μ— λ”°λΌ μ¤‘λ³µμ΄ λ§μ„ κ²½μ° μ¶”μƒ ν΄λμ¤λ΅ μ„ μ–Έν•μ—¬ ν™μ© κ°€λ¥

## XML μ„¤μ •μ„ ν†µν• λ‚΄μ¥ν• DBμ μƒμ„±κ³Ό μ μ©

- `<jdbc:embedded-database>` νƒκ·Έμ— μν•΄ λ§λ“¤μ–΄μ§€λ” `EmbeddedDatabase` νƒ€μ… λΉμ€ μ¤ν”„λ§ μ»¨ν…μ΄λ„ μΆ…λ£ μ‹ μλ™μΌλ΅ `shutdown()` λ©”μ†λ“ νΈμ¶ν•λ„λ΅ μ„¤μ •λμ–΄ μμ
- λ”°λΌμ„ λ‚΄μ¥ν• DBλ¥Ό μΆ…λ£μ‹ν‚¤κΈ° μ„ν• λ³„λ„μ μ½”λ“λ‚ μ„¤μ •μ€ λ¶ν•„μ”

# 7.6 μ¤ν”„λ§ 3.1μ DI

## μλ°” μ–Έμ–΄μ λ³€ν™”μ™€ μ¤ν”„λ§

### Annotationμ λ©”νƒ€ μ •λ³΄ ν™μ©

- μ• λ…Έν…μ΄μ…μ΄ μ—¬λ¬ μ„μΉμ— μ§€μ • κ°€λ¥ν•¨μΌλ΅μ¨ μ—¬λ¬ μ •λ³΄λ“¤μ„ μ–»μ„ μ μμ
- μµμ…μ— λ”°λΌ μ»΄νμΌλ ν΄λμ¤μ— μ΅΄μ¬ν•κ±°λ‚ μ• ν”λ¦¬μΌ€μ΄μ…μ΄ λ™μ‘ν•  λ• λ©”λ¨λ¦¬μ— λ΅λ”©

### μ •μ±…κ³Ό κ΄€λ΅€λ¥Ό μ΄μ©ν• ν”„λ΅κ·Έλλ°

- μ• λ…Έν…μ΄μ… κ°™μ€ λ©”νƒ€ μ •λ³΄λ¥Ό ν™μ©ν•λ” ν”„λ΅κ·Έλλ° λ°©μ‹μ€ λ…μ‹μ μΌλ΅ λ™μ‘ λ‚΄μ©μ„ κΈ°μ ν•λ” λ€μ‹  μ•½μ†ν• κ·μΉ™ λλ” κ΄€λ΅€λ¥Ό λ”°λΌ ν”„λ΅κ·Έλ¨μ΄ λ™μ‘ν•λ„λ΅ ν•μ€μ

**β‡’ μ• λ…Έν…μ΄μ…μ€ ν•µμ‹¬ λ΅μ§ + IoC λ°©μ‹μ ν”„λ μ„μ›ν¬ + λ©”νƒ€μ •λ³΄ μ„Έ κ°€μ§€λ΅ κµ¬μ„±ν•λ” λ°©μ‹μ— μ–΄μΈλ¦Ό**

## ν…μ¤νΈ μ»¨ν…μ¤νΈμ λ³€κ²½

```java
@ImportResource("/test-applicationContext.xml")
```

- μλ°” ν΄λμ¤λ΅ λ§λ“¤μ–΄μ§„ DI μ„¤μ • μ •λ³΄μ—μ„ XMLμ μ„¤μ • μ •λ³΄λ¥Ό κ°€μ Έμ¤λ” λ°©λ²•

## `<context:annotation-config />` μ κ±°

- μ„ νƒκ·Έλ” μ• λ…Έν…μ΄μ… κΈ°λ° κµ¬μ„±μ •λ³΄ μ§€μ›μ΄ ν•„μ”ν•¨μ„ μ¤ν”„λ§μ— μ „λ‹¬
    - μ• λ…Έν…μ΄μ… μ²λ¦¬λ¥Ό μ„ν• λΉ ν›„μ²λ¦¬κΈ° λ“±λ΅μ— μ‚¬μ©λ¨
- `@Configuration` μ΄ λ¶™μ€ μ„¤μ • ν΄λμ¤λ¥Ό μ‚¬μ©ν•λ” μ»¨ν…μ΄λ„κ°€ μ‚¬μ©λλ©΄ ν•΄λ‹Ή νƒκ·Έλ” λ¶ν•„μ”
    - μ»¨ν…μ΄λ„κ°€ μ§μ ‘ λΉ ν›„μ²λ¦¬κΈ°λ¥Ό λ“±λ΅ν•΄μ£ΌκΈ° λ•λ¬Έ

## `<bean>`μ μ „ν™

```java
@Bean 
public Datasource datasource() {
	SimpleDriverDataSource dataSource = new SimpleDriverDataSource();
	...
}
```

- λΉμ μμ΅΄κ΄€κ³„κ°€ μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ λ§Ίμ–΄μ§ μ μλ„λ΅ ν•΄μ•Ό ν•¨
- ν”„λ΅νΌν‹°λ” κµ¬ν„ ν΄λμ¤μ— μμ΅΄μ μΈ κ²½μ°κ°€ λ€λ¶€λ¶„μ΄λ―€λ΅ `@Bean` μ λ¦¬ν„΄ κ°’μΌλ΅λ” κµ¬ν„μ²΄μΈ κ²ƒμ΄ μ λ¦¬
- XML λ°©μ‹μ—μ„λ” ν”„λ΅νΌν‹°λ¥Ό λ¬Έμμ—΄λ΅ μ…λ ¥ν•΄λ„ μ•μ•„μ„ ν•λ³€ν™μ„ μ§„ν–‰ν–μ§€λ§ μλ°” μ½”λ“λ΅ μ‘μ„±ν•  λ• ν”„λ΅νΌν‹° νƒ€μ…μ— λ§κ² κ°’μ„ λ„£μ–΄μ•Ό ν•¨
- λν• μ°Έμ΅°λ κ°μ²΄μ™€ μ°Έμ΅°ν•λ” κ°μ²΄ κ°„ ν¨ν‚¤μ§€κ°€ λ‹¤λ¥΄λ©΄ `public`μΌλ΅ μ ‘κ·Ό μ ν•μ μ§€μ • ν•„μ”

<aside>
π’΅ `@Autowired`λ” ν•„λ“μ νƒ€μ…μ„ κΈ°μ¤€μΌλ΅ λΉμ„ μ°Ύκ³  `@Resource`λ” ν•„λ“ μ΄λ¦„μ„ κΈ°μ¤€μΌλ΅ μ°Ύμ

</aside>

## μ „μ© νƒκ·Έ μ „ν™

### `<jdbc:embedded-database>`

- `DataSource` νƒ€μ…μΌλ΅ λΉ λ“±λ΅

### `<tx:annotation-driven />`

- `@EnableTransactionManagement`

## `@Autowired`λ¥Ό μ΄μ©ν• μλ™ μ™€μ΄μ–΄λ§

1. `@Autowired` κ°€ λ¶™μ€ μμ •μ λ©”μ†λ“κ°€ μ΅΄μ¬ν•λ” κ²½μ° νλΌλ―Έν„° νƒ€μ…μ„ λ³΄κ³  μ£Όμ… κ°€λ¥ λΉ κ²€μƒ‰
2. μ£Όμ… κ°€λ¥ν• λΉμ΄ ν•λ‚λΌλ©΄ μμ •μ λ©”μ†λ“ νΈμ¶ν•μ—¬ λ„£μ–΄μ¤
3. λ‘ κ° μ΄μƒμΈ κ²½μ° λ™μΌν• μ΄λ¦„μ λΉμ΄ μλ”μ§€ κ²€μƒ‰
4. μ΅΄μ¬ν•μ§€ μ•λ” κ²½μ° λΉμ΄ μ΅΄μ¬ν•μ§€ μ•λ”λ‹¤λ” μ—λ¬ λ°μƒ

β‡’ μ¤ν”„λ§μ€ λ¦¬ν”λ ‰μ… APIλ¥Ό μ΄μ©ν•΄ μ μ•½μ΅°κ±΄μ„ μ°νν•΄ κ°’μ„ λ„£μ

β‡’ μ¤ν”„λ§κ³Ό λ¬΄κ΄€ν•κ² μ§μ ‘ μ¤λΈμ νΈλ¥Ό μƒμ„±ν•κ³  λ‹¤λ¥Έ μ¤λΈμ νΈλ¥Ό μ£Όμ…ν•΄μ„ ν…μ¤νΈν•λ” μμν• λ‹¨μ„ν…μ¤νΈλ¥Ό λ§λ“λ” κ²½μ°μ—λ” μμ •μ λ©”μ†λ“ ν•„μ” π’¦

## `@Component`λ¥Ό μ΄μ©ν• μλ™ λΉ λ“±λ΅

- `@Component` λλ” `@Component`λ¥Ό λ©”νƒ€ μ• λ…Έν…μ΄μ…μΌλ΅ κ°–λ” ν΄λμ¤λ” μλ™ λΉ λ“±λ΅ λ€μƒ
    - **λΉ μ•„μ΄λ””λ” λ³„λ„λ΅ μ§€μ •ν•μ§€ μ•λ” κ²½μ° ν΄λμ¤ μ΄λ¦„μ μ²« κΈ€μλ¥Ό μ†λ¬Έμλ΅ λ°”κΏ” μ‚¬μ©**
- `@ComponentScan` μ€ λΉ λ“±λ΅ λ€μƒμ„ νΉμ • ν¨ν‚¤μ§€ ν•μ„μ—μ„ κ²€μƒ‰ν•  μ μλ„λ΅ ν•¨
- `@Service` , `@Repository` λ„ λΉ μλ™ λ“±λ΅ λ€μƒ
    - κ° κ³„μΈµμ λΉμ„ κµ¬λ¶„ν•κΈ° μ„ν•΄ μ‚¬μ©λ¨

β‡’ μ—¬λ¬ κ°μ μ• λ…Έν…μ΄μ…μ— κ³µν†µμ μΈ μ†μ„±μ„ λ¶€μ—¬ν•λ ¤λ©΄ **λ©”νƒ€ μ• λ…Έν…μ΄μ…** μ‚¬μ©

β‡’ λ©”νƒ€ μ• λ…Έν…μ΄μ…μ€ μ• λ…Έν…μ΄μ…μ μ •μμ— λ¶€μ—¬λ μ• λ…Έν…μ΄μ…μ„ μλ―Έ

## `@Import`

```java
@Import(SqlServiceContext.class)
```

- νΉμ • μ„¤μ • μ •λ³΄ ν΄λμ¤λ¥Ό ν„μ¬ μ„¤μ • μ •λ³΄ ν΄λμ¤μ λ³΄μ΅° μ •λ³΄λ΅ μ‚¬μ©ν•κ³ μ ν•  λ• μ‚¬μ©

## `@Profile` κ³Ό `@ActiveProfiles`

### ν”„λ΅νμΌ

```java
@Profile("test")
```

- μ‹¤ν–‰ν™κ²½μ— λ”°λΌ λΉ κµ¬μ„±μ΄ λ‹¬λΌμ§€λ” λ‚΄μ©μ„ ν”„λ΅νμΌλ΅ μ •μν•΄μ„ λ§λ“¤κ³ , μ‹¤ν–‰ μ‹μ μ— μ–΄λ–¤ ν”„λ΅νμΌμ λΉ μ„¤μ •μ„ μ‚¬μ©ν• μ§€ μ§€μ •
- `@Import`, `@ContextConfiguration`μ— μƒκ΄€ μ—†μ΄ ν„μ¬ μ»¨ν…μ΄λ„μ ν™μ„± ν”„λ΅νμΌ λ©λ΅μ— μμ‹ μ ν”„λ΅νμΌ μ΄λ¦„μ΄ λ“¤μ–΄μμ§€ μ•μΌλ©΄ λ¬΄μ‹
- μΌμΆ…μ ν•„ν„°μ™€ μ μ‚¬

### ν”„λ΅νμΌ ν™μ„±ν™”

```java
@ActiveProfiles("test")
```

- νΉμ • ν”„λ΅νμΌμ„ ν™μ„± ν”„λ΅νμΌλ΅ μ‚¬μ©ν•κ² ν•΄μ¤

## μ»¨ν…μ΄λ„μ λΉ λ“±λ΅ μ •λ³΄ ν™•μΈ

- `DefaultListableBeanFactory`
    - `BeanFactory`μ κµ¬ν„ ν΄λμ¤
    - λ€λ¶€λ¶„μ μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” ν•΄λ‹Ή ν΄λμ¤λ¥Ό μ΄μ©ν•΄ λΉμ„ λ“±λ΅ν•κ³  κ΄€λ¦¬
    - `getBeanDefinitionNames()`λ¥Ό μ‚¬μ©ν•μ—¬ μ»¨ν…μ΄λ„μ— λ“±λ΅λ λ¨λ“  λΉ μ΄λ¦„ μ΅°ν κ°€λ¥

## μ¤‘μ²© ν΄λμ¤λ¥Ό μ΄μ©ν• ν”„λ΅νμΌ μ μ©

- μ„¤μ • νμΌμ΄ λ§μ•„μ§ κ²½μ° μ†μ¤ μ½”λ“ μ„μΉμ ν†µν•©μ„ μ„ν•΄ μ¤‘μ²© ν΄λμ¤ κ³ λ ¤ κ°€λ¥
- μ •μ  μ¤‘μ²© ν΄λμ¤λ΅ λ„£μ€ `@Configuration` ν΄λμ¤λ” μ¤ν”„λ§μ΄ μλ™μΌλ΅ μ„¤μ • νμΌλ΅ ν¬ν•¨μ‹μΌμ¤

## `@PropertySource`

```java
@PropertySource("/database.properties")
public class AppContext {
...
env.getProperty("db.driverClass")... 
```

- ν•΄λ‹Ή μ• λ…Έν…μ΄μ…μΌλ΅ μ΅°νν• κ°’μ€ μ»¨ν…μ΄λ„κ°€ κ΄€λ¦¬ν•λ” `Environment` νƒ€μ…μ ν™κ²½ μ¤λΈμ νΈμ— μ €μ¥
- μ‹¤μ  ν•„λ“ νƒ€μ…μ— λ§κ² λ³€ν™ν•μ—¬ μ‚¬μ©ν•΄μ•Ό ν•λ‹¤λ” λ‹¨μ  μ΅΄μ¬

## `PropertySourcesPlaceholderConfigurer`

```java
@PropertySource("/database.properties")
public class AppContext {
...
@Value("${db.username") String username;
```

- μ„ λ°©λ²•μΌλ΅ μ΅°νν• ν”„λ΅νΌν‹°λ” λΉμ΄ μ•„λ‹λ―€λ΅ `@Autowired` μ‚¬μ© λ¶κ°€
- λ€μ‹  `@Value` μ‚¬μ© κ°€λ¥

## λΉ μ„¤μ •μ μ¬μ‚¬μ©κ³Ό `@EnableXX`

```java
@Import(TransactionManagementConfigurationSelector.class)
public @interface EnableTransactionManagement {}
```

- SQLκ³Ό κ΄€λ ¨λ μ„¤μ •μ„ λ…λ¦½μ μΌλ΅ λ¶„λ¦¬ν•κΈ° μ„ν•΄ μ„μ™€ μ μ‚¬ν•κ² μ»¤μ¤ν…€ μ• λ…Έν…μ΄μ… μƒμ„±ν•μ—¬ μ‚¬μ© κ°€λ¥

# μ •λ¦¬

- μ„±κ²©μ΄ λ‹¤λ¥Έ μ½”λ“κ°€ μ„μ—¬μλ‹¤λ©΄ μΈν„°νμ΄μ¤λ¥Ό μ •μν•μ—¬ μ½”λ“λ¥Ό κ° μΈν„°νμ΄μ¤λ΅ λ¶„λ¦¬ν•λΌ
    - λ‹¤λ¥Έ μΈν„°νμ΄μ¤μ— μ†ν• κΈ°λ¥μ€ μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ λμ¨ν• κ²°ν•© μ μ§€
    - κ°„λ‹¨ν μκΈ°μ°Έμ΅° λΉμΌλ΅ μμ΅΄κ΄€κ³„λ¥Ό λ§λ“¤μ–΄ κ²€μ¦ κ°€λ¥
- νΉμ • μμ΅΄ μ¤λΈμ νΈλ¥Ό κ³ μ •μ‹μΌ κΈ°λ¥ νΉν™”ν•λ ¤λ©΄ λ©¤λ²„ ν΄λμ¤λ΅ λ§λ“¤λ©΄ μΆ‹μ
- κΈ°μ΅΄μ— λ§λ“¤μ–΄μ§„ κΈ°λ¥κ³Ό μ¤‘λ³µλλ” λ¶€λ¶„μ€ μ„μ„μ„ ν†µν•΄ μ¤‘λ³µ μ κ±°
- DIλ” μΈν„°νμ΄μ¤ μ‚¬μ©
- ν΄λΌμ΄μ–ΈνΈμ— λ”°λΌ μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ‹ μ•„λ λ°©λ²• μ‚¬μ© κ°€λ¥
    - μΈν„°νμ΄μ¤ μƒμ†
    - μ‹ κ· μΈν„°νμ΄μ¤ μ¶”κ°€
