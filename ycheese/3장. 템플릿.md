# 템플릿
### 🤔 템플릿은 언제 필요한가?

**개방 폐쇄 원칙(OCP)** : 어떤 부분은 변경을 통해 확장하려는 성질이 있고 어떤 부분은 고정되어 있다.

- 다른 목적과 이유에 의해 독립적으로 변경될 수 있는 효율적인 구조를 만들자
- try-catch-finally로 예외 처리를 하는 부분
    - 🙋🏻‍♀️ : 매번 복붙하면 안되나요? / 🤦🏻‍♂️ : …

### 🪄 디자인 패턴 적용 - 변하지 않는 부분을 재사용하자

1. **메소드 추출**
2. **템플릿 메소드 패턴**
    - 상속을 통해 기능을 확장해서 사용
    - 변하지 않는 부분은 슈퍼 클래스에, 변하는 부분은 추상 메소드에 정의
    - **단점**
        - 로직마다 상속을 통한 새 클래스를 만들어야 함
        - 확장 구조가 클래스 설계 시점에서 고정됨
        - 관계에 대한 유연성이 떨어짐
3. **전략 패턴**
    - OCP를 잘 지키면서 템플릿 메소드 패턴보다 유연하고 확장성이 좋음
    - 클래스 레벨에서 인터페이스를 통해서만 의존하도록 함

### 💼 DI

**in 전략 패턴…**

- Context가 어떤 전략을 사용할 것인가 ? → Client가 결정한다 !
- ObjectFactory: 전략 오브젝트 생성, 컨텍스트로의 전달을 담당하는 책임 분리

→ 결국 DI란 전략 패턴을 일반적으로 활용할 수 있도록 만든 구조더라 ~

### 🐜 마이크로 DI (수동 DI)

DI의 핵심 ? 제 3자를 통해 두 오브젝트의 관계가 유연하게 설정되게 하는 것 !

- 2개 오브젝트, DI 컨테이너, 클라이언트
- 2개 오브젝트, 클라이언트 겸 DI 컨테이너
- 클라이언트, 전략 오브젝트
- 또는 짬뽕

→ DI 같아 보이지 않아도 다 DI더라 ~

### 템플릿 vs 콜백

**템플릿**

- 목적을 위해 미리 만든 틀 안에서 바꿀 수 있는 부분을 넣어서 사용하는 경우

**콜백**

- 실행을 목적으로 다른 오브젝트의 메소드에 파라미터로 전달되는 오브젝트
- 값 참조가 아닌 특정 메소드를 실행시키기 위한 목적

**특징**

- 보통 단일 메소드 인터페이스를 사용

### 템플릿/콜백 vs 전략 패턴

→ 같음

- 인터페이스 메소드가 1개 존재하는 전략 클래스를 사용하는 전략 패턴을 템플릿 콜백 패턴이라 한다.
- 템플릿 콜백 패턴은 모두 람다로 대체할 수 있다.
- 보통의 람다 인터페이스는 `@FunctionalInterface` 어노테이션을 사용한다.
    - 컴파일 타임에 구현할 메서드가 1개가 아니면 에러
    - 🎁 이펙티브 자바 39번
